[Practical Reverse Engineering](https://ftp.idu.ac.id/wp-content/uploads/ebook/tdg/MILITARY%20REFERENCE%20AND%20REVERSE%20ENGINEERING/Practical%20reverse%20engineering_%20x86,%20x64,%20ARM,%20Windows%20Kernel,%20reversing%20tools,%20and%20obfuscation%20(%20PDFDrive%20).pdf)


## 游 쯈u칠 es x86?
Es una arquitectura de procesadores creada por Intel. Lo que define c칩mo el procesador entiende y ejecuta instrucciones.
- x86 suele referirse a los procesadores de 32 bits.
- Se llama as칤 por el procesador Intel 8086, que fue el primero de esa familia.
- Usa un formato llamado little-endian, donde el byte menos significativo se guarda primero.

## 游댋 Modos de funcionamiento del procesador
Los procesadores x86 pueden trabajar en dos modos principales:  
游댳 Modo real (real mode)
  - Es el modo m치s simple y antiguo (como en los a침os 80).
  - Solo permite usar 16 bits.
  - No tiene protecci칩n de memoria ni multitarea.
  - Es el modo que usa el procesador al encenderse, antes de que arranque el sistema operativo.

游댳 Modo protegido (protected mode)
  - Es el modo moderno en el que trabajan los sistemas operativos actuales.
  - Permite usar:
    - Memoria virtual.
    - Paginaci칩n (manejo eficiente de la memoria).
    - Protecci칩n entre procesos
  - Se utiliza cuando ya ha arrancado el sistema operativo (como Windows o Linux).

## 游 Separaci칩n de privilegios (Ring levels)
Para evitar que programas normales da침en el sistema, el procesador divide las tareas por niveles de privilegio llamados "anillos":

| Anillo |	Privilegio |	Uso com칰n |
| -- | -- | -- |
| Ring 0	 | M치ximo	 | N칰cleo del sistema (kernel) |
| Ring 1	 | Medio	 | (casi no se usa) |
| Ring 2	 | Medio	 | (casi no se usa) |
| Ring 3	 | M칤nimo	 | Aplicaciones de usuario |

- Ring 0 puede hacer todo: cambiar configuraciones, acceder a hardware, etc.
- Ring 3 es donde se ejecutan tus aplicaciones (navegador, juegos...). Tiene acceso limitado para proteger al sistema.

游늷 As칤, si una app en Ring 3 se bloquea, no arruina todo el sistema porque no tiene acceso total.

## 游닍 쯏 qu칠 hay del x64 o x86-64?
Es la versi칩n moderna de x86, pero para 64 bits. Permite m치s memoria y mejor rendimiento, pero mantiene compatibilidad con el estilo de x86.


## Conjunto de Registros y Tipos de Datos
Cuando opera en modo protegido, la arquitectura x86 dispone de ocho registros de prop칩sito general de 32 bits (GPRs):  

EAX, EBX, ECX, EDX, EDI, ESI, EBP, y ESP.

Algunos de ellos pueden dividirse en registros de 8 y 16 bits.  
El puntero de instrucciones se guarda en el registro EIP.  

| REGISTER | PURPOSE |
| -- | -- |
| ECX  | Counter in loops |
| ESI  | Source in string/memory operations |
| EIP  | The instruction pointer  |
| EDI  | Destination in string/memory operations |
| EBP  | Base frame pointer |
| ESP  | Stack pointer |


### Los tipos de datos comunes son:
- Byte: 8 bits. Ejemplos: AL, BL, CL
- Palabra (Word): 16 bits. Ejemplos: AX, BX, CX
- Doble palabra (Double word): 32 bits. Ejemplos: EAX, EBX, ECX
- Cu치druple palabra (Quad word): 64 bits. Aunque x86 no tiene registros GPRs de 64 bits, puede combinar dos registros (usualmente EDX:EAX) y tratarlos como un valor de 64 bits.

Por ejemplo, la instrucci칩n RDTSC escribe un valor de 64 bits en EDX:EAX.


El registro **EFLAGS (32 bits)** se usa para guardar el estado de las operaciones aritm칠ticas y otros estados de ejecuci칩n (como el trap flag).

Por ejemplo, si una operaci칩n add da como resultado **cero, el flag ZF** (Zero Flag) se pone en **1.**
Los flags en **EFLAGS** se usan principalmente para realizar **saltos condicionales** (if, while, etc.).
