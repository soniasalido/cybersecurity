## Herramientas a instalar antes de ejecutar el malware

### üîí Entorno de an√°lisis: Creaci√≥n de un entorno aislado y seguro:
- VirtualBox o VMware: Para crear m√°quinas virtuales seguras.
- Snapshot de la VM: Creamos una instant√°nea antes de ejecutar nada, para poder restaurar.
- Apagamos la red si es necesario: O usamos una red simulada (como INetSim).

### üß† An√°lisis de Memoria RAM: Instalamos antes de ejecutar el malware:
- DumpIt o WinPMEM: Para volcar la memoria RAM.
- Volatility 3: Framework para analizar los volcados de memoria.
- Rekall (alternativa a Volatility).

### üóÉÔ∏è An√°lisis Est√°tico (sin ejecutar el malware)
- PEStudio: Para analizar binarios PE sin ejecutarlos.
- BinText: Para extraer texto.
- CFF Explorer: Para examinar cabeceras PE.
- Die (Detect It Easy): Para detectar packers y compiladores.

### üîç An√°lisis Din√°mico (ejecutando el malware): Estas deben estar listas antes de la ejecuci√≥n:
- Process Monitor (ProcMon): Para registrar llamadas a archivo, registro, red, etc.
- Process Explorer: Para visualizar procesos activos y DLLs.
- Autoruns: Para detectar persistencia.
- Regshot: Para comparar el registro antes y despu√©s.
- Wireshark: Para analizar tr√°fico de red.
- TCPView: Para conexiones activas.

### üß¨ Desensamblado / Depuraci√≥n
- x64dbg: Depurador de 32/64 bits.
- IDA Free o Ghidra: Para an√°lisis de binarios.
- OllyDbg (solo 32 bits, m√°s antigua, pero a√∫n √∫til).

### üì¶ Otros √∫tiles
- ApateDNS: Para simular resoluci√≥n de DNS.
- INetSim: Para simular servicios de Internet.
- FakeNet-NG: Simula tr√°fico de red para analizar comportamiento del malware.


## Script para un vm de Windows 10
Script PowerShell para ejecutar en una VM de Windows 10 limpia para instalar las herramientas esenciales de an√°lisis de malware. Este script instala lo b√°sico para an√°lisis din√°mico, an√°lisis de memoria, y an√°lisis est√°tico. Lo he dividido en bloques para que puedas adaptar seg√∫n tus necesidades.

### ‚ö†Ô∏è Antes de ejecutar:
Ejecutamos PowerShell como administrador. Si el sistema bloquea scripts, podemos habilitar su ejecuci√≥n temporal con:
```
Set-ExecutionPolicy Bypass -Scope Process
```

###üìú SCRIPT: setup-malware-lab.ps1

1. Preparar la carpeta de herramientas: Crea una carpeta principal para organizar todas las herramientas:
```powershell
New-Item -ItemType Directory -Path "C:\MalwareTools" -Force
```

2. Descargar e instalar las herramientas esenciales:
```
# Crear carpeta base
$toolsDir = "C:\MalwareTools"
New-Item -ItemType Directory -Path $toolsDir -Force

# Funci√≥n para descargar e instalar ZIPs
function Install-ZipTool {
    param (
        [string]$url,
        [string]$destination
    )
    $zipPath = "$env:TEMP\temp.zip"
    Invoke-WebRequest -Uri $url -OutFile $zipPath
    Expand-Archive -Path $zipPath -DestinationPath $destination -Force
    Remove-Item $zipPath
}

# Instalar Sysinternals Suite
Install-ZipTool -url "https://download.sysinternals.com/files/SysinternalsSuite.zip" -destination "$toolsDir\Sysinternals"

# Instalar PEStudio
Install-ZipTool -url "https://www.winitor.com/tools/pestudio.zip" -destination "$toolsDir\PEStudio"

# Instalar Detect It Easy
Install-ZipTool -url "https://github.com/horsicq/Detect-It-Easy/releases/latest/download/die_win64_portable.zip" -destination "$toolsDir\DIE"

# Instalar x64dbg
Install-ZipTool -url "https://github.com/x64dbg/x64dbg/releases/latest/download/snapshot_2024-04-15_00-00.zip" -destination "$toolsDir\x64dbg"

# Instalar Regshot
Install-ZipTool -url "https://sourceforge.net/projects/regshot/files/regshot/1.9.1/regshot-x64-ansi-1.9.1.zip/download" -destination "$toolsDir\Regshot"

# Instalar FTK Imager
Install-ZipTool -url "https://ad-pdf.s3.amazonaws.com/FTK_Imager_4.5.0.zip" -destination "$toolsDir\FTK_Imager"
```

3. Crear accesos directos en el escritorio
```
$desktop = [Environment]::GetFolderPath("Desktop")
$tools = Get-ChildItem -Path $toolsDir -Recurse -Include *.exe

foreach ($tool in $tools) {
    $link = "$desktop\$($tool.BaseName).lnk"
    $wshell = New-Object -ComObject WScript.Shell
    $shortcut = $wshell.CreateShortcut($link)
    $shortcut.TargetPath = $tool.FullName
    $shortcut.Save()
}
```

### üß™ Herramientas que instala:
- Herramientas est√°ticas: PEStudio, DIE, Ghidra, IDA Free (abre el enlace)
- Herramientas din√°micas: Sysinternals Suite (ProcMon, ProcExp, Autoruns‚Ä¶), Wireshark, Regshot, ApateDNS, FakeNet-NG
- Herramientas de memoria: Volatility 3
- Herramientas de depuraci√≥n: x64dbg
- Accesos directos en el escritorio
